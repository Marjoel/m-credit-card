!function(){"use strict";angular.module("mCreditCard",[])}(),function(){"use strict";function a(a){function b(b,e,f,g){b.$watch(f.ngModel,function(b,h){if(h!=b){var i=a.isValidByLuhn(b);c(e),i&&(c(e),d(e,a.getBrand(b))),g.$setValidity(f.ngModel,i)}})}function c(b){b.parent().children().removeClass(a.getSupportedBrandClasses())}function d(a,b){a.parent().children().addClass(b)}return{restrict:"A",require:"ngModel",link:b}}angular.module("mCreditCard").directive("mCreditCard",a),a.$inject=["CreditCardFactory"]}(),function(){"use strict";function a(){function a(a){if(!a)return!1;a=c(a);var b=a.length;if(b>=13&&19>=b){for(var d=0,e=0,f=!1,g=b-1;g>=0;g--)e=a.charAt(g),e=parseInt(e,10),f&&(e*=2)>9&&(e-=9),d+=e,f=!f;return d%10===0}return!1}function b(a){if(!a)return"";a=c(a);var b="",d=/^(4)[0-9]{12,15}$/,e=/^(5)[0-9]{15}$/,f=/^(34|37)[0-9]{13}$/,g=/^(300|301|302|303|304|305)[0-9]{11}|(36|38|39)[0-9]{12}$/,h=/^(606282)[0-9]{10}$/,i=/^(637095|637599|637609|637612|637600|637568)[0-9]{10}$/,j=/^(3088|3096|3112|3158|3337)[0-9]{12}|(35)[0-9]{14}$/,k=/^(506|509|636)[0-9]{13}|(4573|4576|6500|6504|6505|6507|6509|6516|6550)[0-9]{12}|(401178|401179|431274|438935|451416|504175|627780)[0-9]{10}$/,l=/^(50)[0-9]{14}$/,m=/^(6011)[0-9]{12}|(622)[0-9]{13}|(64|65)[0-9]{14}$/;return k.test(a)?b="elo":h.test(a)?b="hipercard":i.test(a)?b="hiper":m.test(a)?b="discover":j.test(a)?b="jcb":g.test(a)?b="diners":f.test(a)?b="amex":l.test(a)?b="aura":d.test(a)?b="visa":e.test(a)&&(b="mastercard"),b}function c(a){return a.toString().replace(/[^\d]+/g,"")}function d(){return"visa mastercard hipercard hiper amex diners jcb elo aura discover"}return{isValidByLuhn:a,getBrand:b,getSupportedBrandClasses:d}}angular.module("mCreditCard").factory("CreditCardFactory",a)}();