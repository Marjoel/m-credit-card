!function(){"use strict";angular.module("mCreditCard",[])}(),function(){"use strict";function a(a){function b(b,e,f,g){b.$watch(f.ngModel,function(b,h){if(h!=b){var i=!1;a.isValidByLuhn(b)?(i=!0,c(e),d(e,a.getBrand(b))):c(e),g.$setValidity(f.ngModel,i)}})}function c(a){a.parent().children().removeClass("visa mastercard hipercard hiper amex jcb")}function d(a,b){a.parent().children().addClass(b)}return{restrict:"A",require:"ngModel",link:b}}angular.module("mCreditCard").directive("mCreditCard",a),a.$inject=["CreditCardFactory"]}(),function(){"use strict";function a(){function a(a){if(!a)return!1;if(a=c(a),a.length>=13&&a.length<=19){for(var b=0,d=0,e=!1,f=a.length-1;f>=0;f--)d=a.charAt(f),d=parseInt(d,10),e&&(d*=2)>9&&(d-=9),b+=d,e=!e;return b%10===0}return!1}function b(a){if(!a)return"";a=c(a);var b="",d=/^(4)[0-9]{12,15}$/,e=/^(5)[0-9]{15}$/,f=/^(34|37)[0-9]{13}$/,g=/^(300|301|302|303|304|305)[0-9]{11}|(36|38|39)[0-9]{12}$/,h=/^(606282)[0-9]{10}$/,i=/^(637095|637599|637609|637612|637600|637568)[0-9]{10}$/,j=/^(3088|3096|3112|3158|3337)[0-9]{12}|(35)[0-9]{14}$/;return h.test(a)?b="hipercard":i.test(a)?b="hiper":g.test(a)?b="diners":j.test(a)?b="jcb":f.test(a)?b="amex":d.test(a)?b="visa":e.test(a)&&(b="mastercard"),b}function c(a){return(a||"").toString().replace(/[^\d]+/g,"")}return{isValidByLuhn:a,getBrand:b}}angular.module("mCreditCard").factory("CreditCardFactory",a)}();