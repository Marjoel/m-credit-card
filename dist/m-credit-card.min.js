!function(){"use strict";angular.module("mCreditCard",[])}(),function(){"use strict";function a(){function a(a,f,g,h){a.$watch(g.ngModel,function(a,i){if(i!=a){var j=!1;e(a)?(j=!0,c(f),d(f,b(a))):c(f),h.$setValidity(g.ngModel,j)}})}function b(a){if(!a)return"";a=f(a);var b="",c=/^4[0-9]{12,15}$/,d=/^5[0-9]{15}$/,e=/^(34|37)[0-9]{13}$/,g=/^(300|301|302|303|304|305)[0-9]{11}|(36|38|39)[0-9]{12}$/,h=/^(606282)[0-9]{10}$/,i=/^(637095|637599|637609|637612|637600|637568)[0-9]{10}$/;return h.test(a)?b="hipercard":i.test(a)?b="hiper":d.test(a)?b="mastercard":c.test(a)?b="visa":g.test(a)?b="diners":e.test(a)&&(b="amex"),b}function c(a){a.parent().children().removeClass("visa mastercard hipercard hiper amex")}function d(a,b){a.parent().children().addClass(b)}function e(a){if(a){a=f(a);var b=14;if(a.length>=b&&a.length<=16){for(var c=0,d=0,e=!1,g=a.length-1;g>=0;g--){var h=a.charAt(g);d=parseInt(h,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0}return!1}return!1}function f(a){return(a||"").toString().replace(/[^\d]+/g,"")}return{restrict:"A",require:"ngModel",link:a}}angular.module("mCreditCard").directive("mCreditCard",a)}();