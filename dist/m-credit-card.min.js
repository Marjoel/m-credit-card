!function(){"use strict";angular.module("mCreditCard",[])}(),function(){"use strict";function a(){function a(a,f,g,h){a.$watch(g.ngModel,function(a,i){if(i!=a){var j=!1;e(a)?(j=!0,c(f),d(f,b(a))):c(f),h.$setValidity(g.ngModel,j)}})}function b(a){if(!a)return"";a=f(a);var b="",c=/^(4)[0-9]{12,15}$/,d=/^(5)[0-9]{15}$/,e=/^(34|37)[0-9]{13}$/,g=/^(300|301|302|303|304|305)[0-9]{11}|(36|38|39)[0-9]{12}$/,h=/^(606282)[0-9]{10}$/,i=/^(637095|637599|637609|637612|637600|637568)[0-9]{10}$/,j=/^(3088|3096|3112|3158|3337)[0-9]{12}|(35)[0-9]{14}$/;return h.test(a)?b="hipercard":i.test(a)?b="hiper":g.test(a)?b="diners":j.test(a)?b="jcb":e.test(a)?b="amex":c.test(a)?b="visa":d.test(a)&&(b="mastercard"),b}function c(a){a.parent().children().removeClass("visa mastercard hipercard hiper amex jcb")}function d(a,b){a.parent().children().addClass(b)}function e(a){if(!a)return!1;if(a=f(a),a.length>=13&&a.length<=19){for(var b=0,c=0,d=!1,e=a.length-1;e>=0;e--)c=a.charAt(e),c=parseInt(c,10),d&&(c*=2)>9&&(c-=9),b+=c,d=!d;return b%10===0}return!1}function f(a){return(a||"").toString().replace(/[^\d]+/g,"")}return{restrict:"A",require:"ngModel",link:a}}angular.module("mCreditCard").directive("mCreditCard",a)}();